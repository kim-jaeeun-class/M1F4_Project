<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chatbot Widget</title>
  <style>
    /* ì±—ë´‡ ì•„ì´ì½˜ */
.chatbot-icon {
  position: fixed;
  bottom: 20px;
  right: 20px;
  cursor: pointer;
  z-index: 9999;
}

.chatbot-icon img {
  width: 100px;  
  height: 100px; 
}


/* ì±—ë´‡ ì°½ */
.chatbot-window {
  position: fixed;
  bottom: 100px;
  right: 20px;
  width: 300px;
  height: 400px;
  background: #fff;
  border: 2px solid #ccc;
  border-radius: 12px;
  display: none;
  flex-direction: column;
  z-index: 9998;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  overflow: hidden;
}

.chatbot-header {
  background: #f0f0f0;
  padding: 10px;
  font-weight: bold;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.chatbot-body {
  flex: 1;
  padding: 10px;
  overflow-y: auto;
  font-size: 14px;
}

.chatbot-input {
  display: flex;
  padding: 10px;
  border-top: 1px solid #ddd;
}

.chatbot-input input {
  flex: 1;
  padding: 6px;
  font-size: 14px;
}

.chatbot-input button {
  margin-left: 5px;
  padding: 6px 10px;
  font-size: 14px;

}

/* 
gptë‚˜ ì œë¯¸ë‹ˆë¥¼ ì—°ë™í•˜ì—¬ í•™ìŠµ ì‹œí‚¬ê²ƒ
ëª¨ë°”ì¼ì¼ ê²½ìš° ì¼ë‹¨ í°íŠ¸ ì‚¬ì´ì¦ˆì™€ ì´ë¯¸ì§€ ì‚¬ì´ì¦ˆë¥¼ í‚¤ìš¸ê²ƒ
ëª¨ë°”ì¼ í™”ë©´ì„ ê½‰ ì±„ìš°ëŠ” í™”ë©´ì¼ê²ƒ
*/



</style>
</head>
<body>

  <!-- ì±—ë´‡ ìœ„ì ¯ ì•„ì´ì½˜ -->
  <div class="chatbot-icon" id="chatbotToggle">
    <img src="../img/baeT.png" alt="Chatbot Icon" />
  </div>

  <!-- ì±—ë´‡ ì°½ -->
  <div class="chatbot-window" id="chatbotWindow">
    <div class="chatbot-header">
      <button id="chatbotClose">Ã—</button>
    </div>
    <div class="chatbot-body">
      <p>ì•ˆë…•í•˜ì„¸ìš”! ë¬´ì—‡ì´ ê¶ê¸ˆí•˜ì‹ ê°€ìš”?</p>
      <!-- ì—¬ê¸°ì— ì±—ë´‡ ë©”ì‹œì§€ ì¶”ê°€ -->
    </div>
    <div class="chatbot-input">
      <input type="text" placeholder="ì§ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”..." />
      <button>ì „ì†¡</button>
    </div>
  </div>

  <script src="chatbot.js"></script>
</body>
<script>
const toggleBtn = document.getElementById('chatbotToggle');
const closeBtn = document.getElementById('chatbotClose');
const chatbotWindow = document.getElementById('chatbotWindow');
const inputBox = document.querySelector('.chatbot-input input');
const sendBtn = document.querySelector('.chatbot-input button');
const chatbotBody = document.querySelector('.chatbot-body');

// ì •í•´ì§„ ì‘ë‹µ ì‚¬ì „
const responses = {
  'ì•ˆë…•': 'ì•ˆë…•í•˜ì„¸ìš”! ë¬´ì—‡ì´ ê¶ê¸ˆí•˜ì‹ ê°€ìš”?',
  'ì´ë¦„': 'ì €ëŠ” ì±…ì„ ì¢‹ì•„í•˜ëŠ” ë°°ì„ ìƒ ì´ì˜ˆìš”!',
  'ë„ì›€': 'ë„ì›€ì´ í•„ìš”í•˜ì‹œë©´ "ë¬¸ì˜" ë˜ëŠ” "ì§ˆë¬¸"ì´ë¼ê³  ì…ë ¥í•´ë³´ì„¸ìš”.',
  'ë¬¸ì˜': 'ë¬¸ì˜ëŠ” support@example.com ìœ¼ë¡œ í•´ì£¼ì„¸ìš”.',
  'ì‹œê°„': `í˜„ì¬ ì‹œê°„ì€ ${new Date().toLocaleTimeString()} ì…ë‹ˆë‹¤.`,
};

toggleBtn.addEventListener('click', () => {
  chatbotWindow.style.display = 'flex';
});

closeBtn.addEventListener('click', () => {
  chatbotWindow.style.display = 'none';
});

sendBtn.addEventListener('click', () => {
  const message = inputBox.value.trim();
  if (!message) return;

  appendMessage('user', message);
  inputBox.value = '';

  const response = getResponse(message);
  typeResponse('bot', response);
});

function appendMessage(sender, text) {
  const p = document.createElement('p');
  p.classList.add(`${sender}-message`);
  p.textContent = `${sender === 'user' ? 'ğŸ‘¤' : 'ğŸ¢'} ${text}`;
  chatbotBody.appendChild(p);
  chatbotBody.scrollTop = chatbotBody.scrollHeight;
}

function typeResponse(sender, fullText) {
  const p = document.createElement('p');
  p.classList.add(`${sender}-message`);
  p.textContent = `${sender === 'user' ? 'ğŸ‘¤' : 'ğŸ¢'} `;
  chatbotBody.appendChild(p);
  chatbotBody.scrollTop = chatbotBody.scrollHeight;

  let index = 0;

  const typingInterval = setInterval(() => {
    if (index < fullText.length) {
      p.textContent += fullText.charAt(index);
      index++;
      chatbotBody.scrollTop = chatbotBody.scrollHeight;
    } else {
      clearInterval(typingInterval);
    }
  }, 30); // ì†ë„ ì¡°ì ˆ ê°€ëŠ¥ (msë‹¹ ê¸€ì ìˆ˜)
}

function getResponse(input) {
  input = input.toLowerCase();

  for (const key in responses) {
    if (input.includes(key)) {
      return responses[key];
    }
  }
  return 'ì£„ì†¡í•´ìš”, ì´í•´í•˜ì§€ ëª»í–ˆì–´ìš”!';
}


    </script>
</html>